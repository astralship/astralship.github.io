<!DOCTYPE HTML>

<html>
	<head>
		<title>Pumayana</title>
	</head>
	<body>


		<img id="genesis" src="pumayana.jpg" style="max-width: 100%; filter: saturate(150%) hue-rotate(0deg);">
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>			
		<script>

			(function() {
			    var lastTime = 0;
			    var vendors = ['ms', 'moz', 'webkit', 'o'];
			    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
			        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];
			        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] 
			                                   || window[vendors[x]+'CancelRequestAnimationFrame'];
			    }
			 
			    if (!window.requestAnimationFrame)
			        window.requestAnimationFrame = function(callback, element) {
			            var currTime = new Date().getTime();
			            var timeToCall = Math.max(0, 16 - (currTime - lastTime));
			            var id = window.setTimeout(function() { callback(currTime + timeToCall); }, 
			              timeToCall);
			            lastTime = currTime + timeToCall;
			            return id;
			        };
			 
			    if (!window.cancelAnimationFrame)
			        window.cancelAnimationFrame = function(id) {
			            clearTimeout(id);
			        };
			}());

			var hueStep = 1;
			var hueAnim = 0; // one is added in the loop...
			var hueScroll = 0; // ...second is added in scroll

			(function animloop(){
				hueAnim += hueStep;
				_updateHue();
				requestAnimationFrame(animloop);
			})();

			// $(window).on("scroll", function(event) {
			// 	hueScroll = $(document).scrollTop();
			// 	_updateHue();
			// });

			function _updateHue() {
				var filter = "saturate(150%) hue-rotate(" + (hueAnim + hueScroll) + "deg)"; 
				$("#genesis").css({"filter": filter});
			}

		</script>

	</body>
</html>